import{a7 as We,S as ze,i as Me,s as Ge,e as Te,b as U,g as Q,v as Oe,d as K,f as Fe,h as E,o as je,a8 as Xe,I as Ie,J as Le,k as I,q as x,a as R,l as L,m as V,r as $,c as B,n as y,D as g,u as ae,a9 as Ze,aa as He,X as ue,P as fe,R as Ke,V as Ve,C as Ue,y as he,z as ge,W as Je,A as de,E as Ye,F as we,G as xe,B as _e,T as $e,Q as et}from"./index.8f8a4d5c.js";import{p as tt}from"./stores.716ec974.js";import{S as Qe}from"./SEO.49f55a37.js";function Ae(a,{delay:e=0,duration:t=400,easing:l=We}={}){const i=+getComputedStyle(a).opacity;return{delay:e,duration:t,easing:l,css:n=>`opacity: ${n*i}`}}function Ce(a,e,t){const l=a.slice();return l[27]=e[t],l[29]=t,l}function De(a){let e,t,l,i,n,c,o,f,_,b,k=a[2],d=[];for(let u=0;u<k.length;u+=1)d[u]=Se(Ce(a,k,u));return{c(){e=I("div"),t=I("nav"),l=I("div"),i=x(a[0]),c=R();for(let u=0;u<d.length;u+=1)d[u].c();this.h()},l(u){e=L(u,"DIV",{class:!0});var T=V(e);t=L(T,"NAV",{class:!0});var m=V(t);l=L(m,"DIV",{class:!0});var C=V(l);i=$(C,a[0]),C.forEach(E),c=B(m);for(let v=0;v<d.length;v+=1)d[v].l(m);m.forEach(E),T.forEach(E),this.h()},h(){y(l,"class",n="toc-label "+a[6]),y(t,"class",o="toc-list "+a[5]),y(e,"class",f="toc "+a[7])},m(u,T){U(u,e,T),g(e,t),g(t,l),g(l,i),g(t,c);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(t,null);b=!0},p(u,T){if((!b||T&1)&&ae(i,u[0]),(!b||T&64&&n!==(n="toc-label "+u[6]))&&y(l,"class",n),T&30){k=u[2];let m;for(m=0;m<k.length;m+=1){const C=Ce(u,k,m);d[m]?d[m].p(C,T):(d[m]=Se(C),d[m].c(),d[m].m(t,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=k.length}(!b||T&32&&o!==(o="toc-list "+u[5]))&&y(t,"class",o),(!b||T&128&&f!==(f="toc "+u[7]))&&y(e,"class",f)},i(u){b||(u&&Ze(()=>{b&&(_||(_=He(e,Ae,{duration:100},!0)),_.run(1))}),b=!0)},o(u){u&&(_||(_=He(e,Ae,{duration:100},!1)),_.run(0)),b=!1},d(u){u&&E(e),ue(d,u),u&&_&&_.end()}}}function Se(a){var _;let e,t=((_=a[27].firstChild)==null?void 0:_.nodeValue)+"",l,i,n,c,o;function f(){return a[20](a[27])}return{c(){e=I("li"),l=x(t),i=R(),this.h()},l(b){e=L(b,"LI",{class:!0});var k=V(e);l=$(k,t),i=B(k),k.forEach(E),this.h()},h(){y(e,"class",n="toc-list-item "+a[4]+" "+qe(a[27])+" "+(a[27].id===a[3]?a[1]:""))},m(b,k){U(b,e,k),g(e,l),g(e,i),c||(o=[fe(e,"click",f),fe(e,"click",a[18]),fe(e,"keypress",a[19])],c=!0)},p(b,k){var d;a=b,k&4&&t!==(t=((d=a[27].firstChild)==null?void 0:d.nodeValue)+"")&&ae(l,t),k&30&&n!==(n="toc-list-item "+a[4]+" "+qe(a[27])+" "+(a[27].id===a[3]?a[1]:""))&&y(e,"class",n)},d(b){b&&E(e),c=!1,Ke(o)}}}function lt(a){let e,t=a[2].length>0&&De(a);return{c(){t&&t.c(),e=Te()},l(l){t&&t.l(l),e=Te()},m(l,i){t&&t.m(l,i),U(l,e,i)},p(l,[i]){l[2].length>0?t?(t.p(l,i),i&4&&Q(t,1)):(t=De(l),t.c(),Q(t,1),t.m(e.parentNode,e)):t&&(Oe(),K(t,1,1,()=>{t=null}),Fe())},i(l){Q(t)},o(l){K(t)},d(l){t&&t.d(l),l&&E(e)}}}const at="p-4 pt-0",st="list-none space-y-1",it="px-4 py-2 cursor-pointer";function qe(a){return a.tagName==="H3"?"ml-3":a.tagName==="H4"?"ml-6":a.tagName==="H5"?"ml-9":a.tagName==="H6"?"ml-12":""}function nt(a){document.querySelector(`#${a.id}`).scrollIntoView({behavior:"smooth"})}function rt(a,e,t){let l,i,n,c,{scrollParent:o="#page"}=e,{target:f="#page"}=e,{allowedHeadings:_="h2, h3"}=e,{label:b="On This Page"}=e,{width:k="w-[240px]"}=e,{spacing:d="space-y-4"}=e,{text:u="text-surface-600-300-token"}=e,{hover:T="hover:bg-primary-hover-token"}=e,{active:m="bg-primary-active-token !text-on-primary-token"}=e,{rounded:C="rounded-token"}=e,{regionLabel:v="font-bold"}=e,{regionList:J=""}=e,A,M=[],p=[],ee;function W(){const r=document.querySelector(f);M=r==null?void 0:r.querySelectorAll(_)}function F(){M==null||M.forEach(r=>{if(!r.hasAttribute("data-toc-ignore")){if(!r.id){let X=r.innerText.replaceAll(/[^a-zA-Z0-9 ]/g,"").replaceAll(" ","-").toLowerCase();r.id=`${X}`}r.querySelector(".permalink")||(r.innerHTML+=`<a href="#${r.id}" class="permalink">ðŸ”—</a>`),p.push(r)}}),t(2,p=[...p])}function G(){var z;let X=[];M==null||M.forEach(ie=>{const j=(A==null?void 0:A.getBoundingClientRect().top)||0;ie.getBoundingClientRect().top-j+40>=0&&X.push(ie)}),t(3,ee=(z=X[0])==null?void 0:z.id)}je(()=>{W(),F(),A=document.querySelector(o),A==null||A.addEventListener("scroll",G),G()}),Xe(()=>{A==null||A.removeEventListener("scroll",G)});function se(r){Ve.call(this,a,r)}function O(r){Ve.call(this,a,r)}const Y=r=>{nt(r)};return a.$$set=r=>{t(26,e=Ie(Ie({},e),Le(r))),"scrollParent"in r&&t(8,o=r.scrollParent),"target"in r&&t(9,f=r.target),"allowedHeadings"in r&&t(10,_=r.allowedHeadings),"label"in r&&t(0,b=r.label),"width"in r&&t(11,k=r.width),"spacing"in r&&t(12,d=r.spacing),"text"in r&&t(13,u=r.text),"hover"in r&&t(14,T=r.hover),"active"in r&&t(1,m=r.active),"rounded"in r&&t(15,C=r.rounded),"regionLabel"in r&&t(16,v=r.regionLabel),"regionList"in r&&t(17,J=r.regionList)},a.$$.update=()=>{t(7,l=`${k} ${d} ${e.class??""}`),a.$$.dirty&65536&&t(6,i=`${at} ${v}`),a.$$.dirty&131072&&t(5,n=`${st} ${J}`),a.$$.dirty&57344&&t(4,c=`${it} ${u} ${T} ${C}`)},e=Le(e),[b,m,p,ee,c,n,i,l,o,f,_,k,d,u,T,C,v,J,se,O,Y]}class ot extends ze{constructor(e){super(),Me(this,e,rt,lt,Ge,{scrollParent:8,target:9,allowedHeadings:10,label:0,width:11,spacing:12,text:13,hover:14,active:1,rounded:15,regionLabel:16,regionList:17})}}async function ct(a,e,t,l){const i=a.filter(o=>o.category===t&&o.title!==e),n=new Set(l),c=i.filter(o=>{const f=new Set(o.tags);for(const _ of f)if(n.has(_))return!0;return!1});return c.sort((o,f)=>{const _=new Set(o.tags),b=new Set(f.tags),k=[...n].filter(u=>_.has(u));return[...n].filter(u=>b.has(u)).length-k.length}),c.slice(0,3)}function Ne(a,e,t){const l=a.slice();return l[14]=e[t],l}function Pe(a,e,t){const l=a.slice();return l[17]=e[t],l}function ft(a){let e,t;return e=new Qe({props:{title:a[0],ogType:"article",description:a[4],tags:a[2]}}),{c(){he(e.$$.fragment)},l(l){ge(e.$$.fragment,l)},m(l,i){de(e,l,i),t=!0},p(l,i){const n={};i&1&&(n.title=l[0]),i&16&&(n.description=l[4]),i&4&&(n.tags=l[2]),e.$set(n)},i(l){t||(Q(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){_e(e,l)}}}function ut(a){let e,t;return e=new Qe({props:{title:a[0],ogType:"article",description:a[4],tags:a[2],ogImage:a[6]}}),{c(){he(e.$$.fragment)},l(l){ge(e.$$.fragment,l)},m(l,i){de(e,l,i),t=!0},p(l,i){const n={};i&1&&(n.title=l[0]),i&16&&(n.description=l[4]),i&4&&(n.tags=l[2]),e.$set(n)},i(l){t||(Q(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){_e(e,l)}}}function Re(a){let e,t;return{c(){e=I("img"),this.h()},l(l){e=L(l,"IMG",{src:!0,alt:!0}),this.h()},h(){Je(e.src,t=a[6])||y(e,"src",t),y(e,"alt","")},m(l,i){U(l,e,i)},p:et,d(l){l&&E(e)}}}function Be(a){let e,t,l=a[17]+"",i,n,c;return{c(){e=I("a"),t=I("span"),i=x(l),n=R(),this.h()},l(o){e=L(o,"A",{href:!0});var f=V(e);t=L(f,"SPAN",{class:!0});var _=V(t);i=$(_,l),_.forEach(E),n=B(f),f.forEach(E),this.h()},h(){y(t,"class","chip variant-filled-secondary"),y(e,"href",c="/tag/"+a[17])},m(o,f){U(o,e,f),g(e,t),g(t,i),g(e,n)},p(o,f){f&4&&l!==(l=o[17]+"")&&ae(i,l),f&4&&c!==(c="/tag/"+o[17])&&y(e,"href",c)},d(o){o&&E(e)}}}function pe(a){let e,t,l=a[14].title+"",i,n,c;return{c(){e=I("article"),t=I("a"),i=x(l),c=R(),this.h()},l(o){e=L(o,"ARTICLE",{});var f=V(e);t=L(f,"A",{href:!0});var _=V(t);i=$(_,l),_.forEach(E),c=B(f),f.forEach(E),this.h()},h(){y(t,"href",n=a[14].path)},m(o,f){U(o,e,f),g(e,t),g(t,i),g(e,c)},p(o,f){f&32&&l!==(l=o[14].title+"")&&ae(i,l),f&32&&n!==(n=o[14].path)&&y(t,"href",n)},d(o){o&&E(e)}}}function ht(a){let e,t,l,i,n,c,o,f,_,b,k,d,u,T,m,C,v,J,A,M,p,ee,W,F,G,se,O,Y,r,X,z;const ie=[ut,ft],j=[];function oe(s,H){return s[3]?0:1}e=oe(a),t=j[e]=ie[e](a);let S=a[3]&&Re(a);const ce=a[11].default,P=Ue(ce,a,a[10],null);let te=a[2],q=[];for(let s=0;s<te.length;s+=1)q[s]=Be(Pe(a,te,s));G=new ot({props:{target:"#toc-target",class:"hidden lg:block"}});let le=a[5],N=[];for(let s=0;s<le.length;s+=1)N[s]=pe(Ne(a,le,s));return{c(){t.c(),l=R(),i=I("div"),n=I("div"),c=I("div"),o=I("a"),f=I("span"),_=x(a[1]),k=R(),d=I("h1"),u=x(a[0]),T=R(),S&&S.c(),m=R(),C=I("img"),J=R(),A=I("div"),P&&P.c(),M=R(),p=I("div");for(let s=0;s<q.length;s+=1)q[s].c();ee=R(),W=I("div"),F=I("div"),he(G.$$.fragment),se=R(),O=I("div"),Y=I("h3"),r=x("Related"),X=R();for(let s=0;s<N.length;s+=1)N[s].c();this.h()},l(s){t.l(s),l=B(s),i=L(s,"DIV",{class:!0});var H=V(i);n=L(H,"DIV",{class:!0});var D=V(n);c=L(D,"DIV",{class:!0});var h=V(c);o=L(h,"A",{href:!0});var Z=V(o);f=L(Z,"SPAN",{class:!0});var me=V(f);_=$(me,a[1]),me.forEach(E),Z.forEach(E),k=B(h),d=L(h,"H1",{});var ve=V(d);u=$(ve,a[0]),ve.forEach(E),T=B(h),S&&S.l(h),m=B(h),C=L(h,"IMG",{src:!0,alt:!0}),J=B(h),A=L(h,"DIV",{class:!0,id:!0});var be=V(A);P&&P.l(be),be.forEach(E),M=B(h),p=L(h,"DIV",{class:!0});var ke=V(p);for(let w=0;w<q.length;w+=1)q[w].l(ke);ke.forEach(E),h.forEach(E),ee=B(D),W=L(D,"DIV",{class:!0});var ye=V(W);F=L(ye,"DIV",{class:!0});var ne=V(F);ge(G.$$.fragment,ne),se=B(ne),O=L(ne,"DIV",{class:!0});var re=V(O);Y=L(re,"H3",{});var Ee=V(Y);r=$(Ee,"Related"),Ee.forEach(E),X=B(re);for(let w=0;w<N.length;w+=1)N[w].l(re);re.forEach(E),ne.forEach(E),ye.forEach(E),D.forEach(E),H.forEach(E),this.h()},h(){y(f,"class","badge variant-filled-primary"),y(o,"href",b="/category/"+a[1]),Je(C.src,v="")||y(C,"src",v),y(C,"alt",""),y(A,"class","prose-xl max-w-none"),y(A,"id","toc-target"),y(p,"class","tags space-x-4"),y(c,"class","col-span-3 lg:col-span-2 space-y-8"),y(O,"class","space-y-4"),y(F,"class","space-y-8 sticky top-32"),y(W,"class","col col-span-3 lg:col-span-1"),y(n,"class","grid grid-cols-3 gap-8"),y(i,"class","container my-8")},m(s,H){j[e].m(s,H),U(s,l,H),U(s,i,H),g(i,n),g(n,c),g(c,o),g(o,f),g(f,_),g(c,k),g(c,d),g(d,u),g(c,T),S&&S.m(c,null),g(c,m),g(c,C),g(c,J),g(c,A),P&&P.m(A,null),g(c,M),g(c,p);for(let D=0;D<q.length;D+=1)q[D]&&q[D].m(p,null);g(n,ee),g(n,W),g(W,F),de(G,F,null),g(F,se),g(F,O),g(O,Y),g(Y,r),g(O,X);for(let D=0;D<N.length;D+=1)N[D]&&N[D].m(O,null);z=!0},p(s,[H]){let D=e;if(e=oe(s),e===D?j[e].p(s,H):(Oe(),K(j[D],1,1,()=>{j[D]=null}),Fe(),t=j[e],t?t.p(s,H):(t=j[e]=ie[e](s),t.c()),Q(t,1),t.m(l.parentNode,l)),(!z||H&2)&&ae(_,s[1]),(!z||H&2&&b!==(b="/category/"+s[1]))&&y(o,"href",b),(!z||H&1)&&ae(u,s[0]),s[3]?S?S.p(s,H):(S=Re(s),S.c(),S.m(c,m)):S&&(S.d(1),S=null),P&&P.p&&(!z||H&1024)&&Ye(P,ce,s,s[10],z?xe(ce,s[10],H,null):we(s[10]),null),H&4){te=s[2];let h;for(h=0;h<te.length;h+=1){const Z=Pe(s,te,h);q[h]?q[h].p(Z,H):(q[h]=Be(Z),q[h].c(),q[h].m(p,null))}for(;h<q.length;h+=1)q[h].d(1);q.length=te.length}if(H&32){le=s[5];let h;for(h=0;h<le.length;h+=1){const Z=Ne(s,le,h);N[h]?N[h].p(Z,H):(N[h]=pe(Z),N[h].c(),N[h].m(O,null))}for(;h<N.length;h+=1)N[h].d(1);N.length=le.length}},i(s){z||(Q(t),Q(P,s),Q(G.$$.fragment,s),z=!0)},o(s){K(t),K(P,s),K(G.$$.fragment,s),z=!1},d(s){j[e].d(s),s&&E(l),s&&E(i),S&&S.d(),P&&P.d(s),ue(q,s),_e(G),ue(N,s)}}}function gt(a,e,t){let l;$e(a,tt,v=>t(12,l=v));let{$$slots:i={},$$scope:n}=e,{title:c}=e,{date:o}=e,{category:f}=e,{author:_}=e,{tags:b}=e,{cover:k}=e,{description:d}=e,{slug:u}=e,T=[];const m=`${l.url.href}/${k==null?void 0:k.image}`,C=async()=>{const J=await(await fetch(`${l.url.origin}/api/post`)).json();return await ct(J,c,f,b)};return je(async()=>{t(5,T=await C())}),a.$$set=v=>{"title"in v&&t(0,c=v.title),"date"in v&&t(7,o=v.date),"category"in v&&t(1,f=v.category),"author"in v&&t(8,_=v.author),"tags"in v&&t(2,b=v.tags),"cover"in v&&t(3,k=v.cover),"description"in v&&t(4,d=v.description),"slug"in v&&t(9,u=v.slug),"$$scope"in v&&t(10,n=v.$$scope)},[c,f,b,k,d,T,m,o,_,u,n,i]}class vt extends ze{constructor(e){super(),Me(this,e,gt,ht,Ge,{title:0,date:7,category:1,author:8,tags:2,cover:3,description:4,slug:9})}}export{vt as D};
